<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="Hugo 0.16" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <link rel='stylesheet' href='//fonts.googleapis.com/css?family=Noticia+Text:400,700|Marcellus+SC'>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/solarized_dark.min.css">
    <link rel="stylesheet" href="http://qingyunha.github.io/hugo/css/styles.css">
    <link rel="stylesheet" href="http://qingyunha.github.io/hugo/css/custom.css">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://qingyunha.github.io/hugo/index.xml">

    
    <title>Blog - Qing Yun</title>
    <meta property='og:title' content="Blog - Qing Yun">
    <meta property="og:type" content="article">
    

    <meta property="og:url" content="http://qingyunha.github.io/hugo/categories/blog/">
    
    


</head>

<body>

  <header class="l-header">
    <div class="p-logo">
      <a href="http://qingyunha.github.io/hugo/">Qing Yun</a>
    </div>
  </header>



<div class="container">
  <div class="row">
    <div class="col-md-9">

      <h1 class="p-page-title">Blog</h1>

      <div class="row">
        
        <div class="col-sm-4">
          <article class="grid">
  <a href="http://qingyunha.github.io/hugo/blog/python-name/">
    <div class="image" style="background-image: url(http://qingyunha.github.io/hugo/images/default.jpg);"></div>
    <footer>
      <div class="date">
        <time>Mon, Aug 22, 2016</time>
      </div>
      <h2 class="title">python值传递 or 引用传递</h2>
      <div class="summary">当被问到python是值传递还是引用传递的时候，你要回答都不是。 要理解这个问题，首先要知道Python中变量，赋值是怎么一回事，它和C语言有很大不同。 在C语言中，变量可以想象成一个只能装特定类型值的盒子，int a = 5，把数字5放到a盒子中。int b = a，则把a中的5复制一份放入b盒子中。而在Python中，通常的赋值过程被称作name binding，这还包括类和函数定义，import语句，当然还有函数的形参。Python中一切都是对象，即使是数字5，那么现在a = 5的意思就是为5这个对象绑定了一个名字a。你可以把变量想象成一个标签，它现在贴在5这个对象上。b = a, 就是为5又打了个新标签b。 现在就可以很容易解释下面这两个列子： a = 1 def fun(a): a = 2 fun(a) print(a) # 1 l = [] def fun(l): l.append(1) fun(l) print(l) # [1] 有人把这种现象归因于可变对象和不可变对象的区别，而其实这两者并没有可比性，如果把第二个例子改一下： l = [] def fun(l): l = [1, 2, 3] fun(l) print(l) # [] 列表是可变的啊，为什么最后没有打印[1, 2, 3]？在fun开始执行时形参l和fun外的l（不同的作用域）都贴在[]上，当l = [1, 2, 3]被执行，只是把形参l从[]上撕下贴到了[1, 2, 3]上，而fun外的l却依然贴在[]上。 那么Python的参数传递方式到底该叫什么呢？call-by-object-reference，call-by-assignment？在CPython的实现中，名字也是一个对象，而所有的对象都通过PyObject *来引用，名字和对象的绑定关系就是保存在一个Python的字典结构中。不管是赋值还是参数传递，都只是改变了作用域字典中名字对应的对象的引用。也许call-by-object-reference更好些。 reference how-do-i-pass-a-variable-by-reference Is Python pass-by-reference or pass-by-value?</div>
    </footer>
  </a>
</article>

        </div>
        
        <div class="col-sm-4">
          <article class="grid">
  <a href="http://qingyunha.github.io/hugo/blog/read-memcached-1.2.0/">
    <div class="image" style="background-image: url(http://qingyunha.github.io/hugo/images/default.jpg);"></div>
    <footer>
      <div class="date">
        <time>Thu, Aug 18, 2016</time>
      </div>
      <h2 class="title">memcached-1.2.0 源码解读</h2>
      <div class="summary">关键词 ： libevent，状态机，内存分配，hash表 memcached是一个免费开源的高性能分布式(由客户端提供)对象缓存系统。这篇将对memcached 1.2.0的源码的进行一点解读，这是我能找到的最早的发行版。协议定义在doc/protocol.txt下，代码量在3500行左右： $ wc *.[ch] 186 844 5912 assoc.c 71 328 1963 config.h 70 370 2649 daemon.c 322 1056 8560 items.c 2282 7820 68519 memcached.c 278 1379 9781 memcached.h 356 1392 10717 slabs.c 3565 13189 108101 total 编译需要安装libevent依赖和autotools工具。 libevent libevent提供了一种当文件描述符的事件(读，写)发生时执行回调函数的机制，也支持信号和超时回调。memcached用的是libevent的1.x版本，使用了这样几个API： struct event_base *event_init(void) void event_set(struct event *, int, short, void(*)(int, short, void *), void *) int event_add(struct event *ev, const struct timeval *timeout) int event_del(struct event *)</div>
    </footer>
  </a>
</article>

        </div>
        
        <div class="col-sm-4">
          <article class="grid">
  <a href="http://qingyunha.github.io/hugo/blog/python-logging/">
    <div class="image" style="background-image: url(http://qingyunha.github.io/hugo/images/default.jpg);"></div>
    <footer>
      <div class="date">
        <time>Sat, Jul 9, 2016</time>
      </div>
      <h2 class="title">python logging</h2>
      <div class="summary">日志对程序的调试和问题的发现很有帮助。如何设置合适的日志需要需要一些考虑。 以python2.7标准库logging为例。 logging分有多种级别: NOTSET DEBUG INFO WARNING ERROR CRITICAL 一个应用中可以有多个logger对象，比如每个module一个logger。 不同logger对象可以设置不同的级别，只有大于该级别的log事件才会被记录。 log的记录和处理是分开的，你可以把log简单的打印出来，写到文件中，甚至遇到高级别log事件时，直接给你发邮件。这是由logging.Handler对象来处理，你可以为一个logger添加多个handler，同时handler也是分级别的，这样你就可以对不同级别的log做出不同的处理了。 每个Logger都有一个唯一的名字，通常用logging.getLogger(__name__)，这样得到的logger的名字就是当前模块的名字,这样还有一个好处，logger是分层的，比如inputlogger就是input.cvs，input.xlslogger的上层。这与python的模块命名空间一致，以.做分割。 这里的分层还意味着log事件会向上层传递，当然你也可以阻止这个行为，通过设置Logger.propagate为False。 logger，handler，formmater(log的格式)的创建，配置可以直接写在代码中，比如： import logging # create logger logger = logging.getLogger('simple_example') logger.setLevel(logging.DEBUG) # create console handler and set level to debug ch = logging.StreamHandler() ch.setLevel(logging.DEBUG) # create formatter formatter = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s') # add formatter to ch ch.setFormatter(formatter) # add ch to logger logger.addHandler(ch) # 'application' code logger.debug('debug message') logging模块也提供了从配置文件设置的方法，使用函数fileConfig()： import logging import</div>
    </footer>
  </a>
</article>

        </div>
        
      </div>

      


    </div>

    <div class="col-md-3">
      <aside class="site">

  

  

  <section>
    <header>LatestPosts</header>
    <div>
      
      <article class="li">
  <a href="http://qingyunha.github.io/hugo/blog/python-name/" class="clearfix">
    <div class="image" style="background-image: url(http://qingyunha.github.io/hugo/images/default.jpg);"></div>
    <footer>
      <div class="date">
        <time>Mon, Aug 22, 2016</time>
      </div>
      <h2 class="title">python值传递 or 引用传递</h2>
    </footer>
  </a>
</article>

      
      <article class="li">
  <a href="http://qingyunha.github.io/hugo/blog/read-memcached-1.2.0/" class="clearfix">
    <div class="image" style="background-image: url(http://qingyunha.github.io/hugo/images/default.jpg);"></div>
    <footer>
      <div class="date">
        <time>Thu, Aug 18, 2016</time>
      </div>
      <h2 class="title">memcached-1.2.0 源码解读</h2>
    </footer>
  </a>
</article>

      
      <article class="li">
  <a href="http://qingyunha.github.io/hugo/wiki/git-proxy/" class="clearfix">
    <div class="image" style="background-image: url(http://qingyunha.github.io/hugo/images/default.jpg);"></div>
    <footer>
      <div class="date">
        <time>Sat, Aug 6, 2016</time>
      </div>
      <h2 class="title">git proxy</h2>
    </footer>
  </a>
</article>

      
      <article class="li">
  <a href="http://qingyunha.github.io/hugo/blog/python-logging/" class="clearfix">
    <div class="image" style="background-image: url(http://qingyunha.github.io/hugo/images/default.jpg);"></div>
    <footer>
      <div class="date">
        <time>Sat, Jul 9, 2016</time>
      </div>
      <h2 class="title">python logging</h2>
    </footer>
  </a>
</article>

      
      <article class="li">
  <a href="http://qingyunha.github.io/hugo/translation/crawler/" class="clearfix">
    <div class="image" style="background-image: url(http://qingyunha.github.io/hugo/images/default.jpg);"></div>
    <footer>
      <div class="date">
        <time>Sat, Jul 9, 2016</time>
      </div>
      <h2 class="title">A Web Crawler With asyncio Coroutines</h2>
    </footer>
  </a>
</article>

      
      <article class="li">
  <a href="http://qingyunha.github.io/hugo/wiki/flask-dev/" class="clearfix">
    <div class="image" style="background-image: url(http://qingyunha.github.io/hugo/images/default.jpg);"></div>
    <footer>
      <div class="date">
        <time>Sat, May 21, 2016</time>
      </div>
      <h2 class="title">成为Flask贡献者</h2>
    </footer>
  </a>
</article>

      
      <article class="li">
  <a href="http://qingyunha.github.io/hugo/translation/python-interpreter/" class="clearfix">
    <div class="image" style="background-image: url(http://qingyunha.github.io/hugo/images/default.jpg);"></div>
    <footer>
      <div class="date">
        <time>Mon, May 9, 2016</time>
      </div>
      <h2 class="title">A Python Interpreter Written in Python</h2>
    </footer>
  </a>
</article>

      
      <article class="li">
  <a href="http://qingyunha.github.io/hugo/translation/a-template-engine/" class="clearfix">
    <div class="image" style="background-image: url(http://qingyunha.github.io/hugo/images/default.jpg);"></div>
    <footer>
      <div class="date">
        <time>Fri, Oct 9, 2015</time>
      </div>
      <h2 class="title">A Template Engine</h2>
    </footer>
  </a>
</article>

      
    </div>
  </section>

  
  <section>
    <header>category</header>
    <div>
      <ul>
        <li><a href="http://qingyunha.github.io/hugo/categories/blog">blog</a></li><li><a href="http://qingyunha.github.io/hugo/categories/translation">translation</a></li><li><a href="http://qingyunha.github.io/hugo/categories/wiki">wiki</a></li>
      </ul>
    </div>
  </section>
  
  <section>
    <header>tag</header>
    <div>
      <ul>
        <li><a href="http://qingyunha.github.io/hugo/tags/python">python</a></li><li><a href="http://qingyunha.github.io/hugo/tags/asyn">asyn</a></li><li><a href="http://qingyunha.github.io/hugo/tags/git">git</a></li><li><a href="http://qingyunha.github.io/hugo/tags/interpreter">interpreter</a></li><li><a href="http://qingyunha.github.io/hugo/tags/logging">logging</a></li><li><a href="http://qingyunha.github.io/hugo/tags/memcached">memcached</a></li><li><a href="http://qingyunha.github.io/hugo/tags/proxy">proxy</a></li><li><a href="http://qingyunha.github.io/hugo/tags/template-engine">template-engine</a></li><li><a href="http://qingyunha.github.io/hugo/tags/virtual-machine">virtual-machine</a></li>
      </ul>
    </div>
  </section>
  

</aside>

    </div>

  </div>

</div>


<footer class="l-footer">
  <p>&copy; 2016 Qing Yun</p>
  <p>Powered by <a href="http://gohugo.io" target="_blank" rel="nofollow">Hugo</a>, Theme <a href="https://github.com/dim0627/hugo_theme_robust" target="_blank" rel="nofollow">robust</a> designed by <a href="http://yet.unresolved.xyz" target="_blank" rel="nofollow">Daisuke Tsuji</a></p>
</footer>

<script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



  </body>
</html>


